<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Facebook Share Tool</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
        * { font-family: 'Poppins', sans-serif; }
        
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .card-shadow {
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            transition: all 0.3s ease;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .loading {
            display: none;
        }
        
        /* Navbar Animation */
        .navbar {
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.9);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .navbar-scrolled {
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }
        
        .nav-link {
            position: relative;
            padding: 8px 16px;
            transition: all 0.3s ease;
        }
        
        .nav-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transition: all 0.3s ease;
            transform: translateX(-50%);
        }
        
        .nav-link:hover::after {
            width: 80%;
        }
        
        .nav-link.active {
            color: #667eea;
            font-weight: 600;
        }
        
        .nav-link.active::after {
            width: 80%;
        }
        
        /* Slide animations */
        .slide-in-right {
            animation: slideInRight 0.5s ease-out;
        }
        
        .slide-in-left {
            animation: slideInLeft 0.5s ease-out;
        }
        
        .fade-in {
            animation: fadeIn 0.6s ease-out;
        }
        
        @keyframes slideInRight {
            from {
                transform: translateX(100px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        @keyframes slideInLeft {
            from {
                transform: translateX(-100px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
        
        /* Pulse animation for share button */
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(102, 126, 234, 0.7);
            }
            70% {
                box-shadow: 0 0 0 10px rgba(102, 126, 234, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(102, 126, 234, 0);
            }
        }
        
        /* Hamburger menu animation */
        .hamburger {
            transition: all 0.3s ease;
        }
        
        .hamburger.active span:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }
        
        .hamburger.active span:nth-child(2) {
            opacity: 0;
        }
        
        .hamburger.active span:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -6px);
        }
        
        /* Mobile menu animation */
        .mobile-menu {
            animation: slideDown 0.3s ease-out;
        }
        
        @keyframes slideDown {
            from {
                transform: translateY(-20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        /* Switch toggle */
        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }
        
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
        }
        
        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
        }
        
        input:checked + .slider {
            background: linear-gradient(90deg, #667eea, #764ba2);
        }
        
        input:checked + .slider:before {
            transform: translateX(26px);
        }
        
        .slider.round {
            border-radius: 34px;
        }
        
        .slider.round:before {
            border-radius: 50%;
        }
        
        /* Custom number input buttons */
        .number-btn {
            transition: all 0.2s ease;
        }
        
        .number-btn:hover {
            background-color: #e5e7eb !important;
            transform: scale(1.05);
        }
        
        .number-btn:active {
            transform: scale(0.95);
        }
        
        /* Process card animations */
        .process-card {
            transition: all 0.3s ease;
        }
        
        .process-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }
        
        .progress-bar-container {
            overflow: hidden;
        }
        
        .progress-bar-fill {
            transition: width 0.5s ease-in-out;
        }
        
        /* Status badges */
        .status-badge {
            font-size: 0.7rem;
            padding: 0.2rem 0.6rem;
            border-radius: 9999px;
            font-weight: 600;
        }
        
        .status-initializing { background-color: #fef3c7; color: #92400e; }
        .status-extracting_token { background-color: #dbeafe; color: #1e40af; }
        .status-sharing { background-color: #dcfce7; color: #166534; }
        .status-completed { background-color: #bbf7d0; color: #065f46; }
        .status-failed { background-color: #fee2e2; color: #991b1b; }
        .status-stale { background-color: #f3f4f6; color: #374151; }
    </style>
</head>
<body class="gradient-bg min-h-screen pt-16">
    <!-- Animated Navbar -->
    <nav class="navbar fixed top-0 left-0 right-0 z-50 px-4 md:px-8 py-4">
        <div class="max-w-6xl mx-auto">
            <div class="flex items-center justify-between">
                <!-- Logo -->
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center">
                        <i class="fas fa-share-alt text-white"></i>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent">
                            FB Share Tool
                        </h1>
                        <p class="text-xs text-gray-500">Auto Share Posts</p>
                    </div>
                </div>
                
                <!-- Desktop Navigation -->
                <div class="hidden md:flex items-center space-x-1">
                    <a href="#home" class="nav-link active" data-section="home-content">
                        <i class="fas fa-home mr-2"></i>Home
                    </a>
                    <a href="#share-tool" class="nav-link" data-section="share-content">
                        <i class="fas fa-share-alt mr-2"></i>Share Tool
                    </a>
                    <a href="#instructions" class="nav-link" data-section="instructions">
                        <i class="fas fa-info-circle mr-2"></i>Instructions
                    </a>
                    <a href="#disclaimer" class="nav-link" data-section="disclaimer">
                        <i class="fas fa-exclamation-triangle mr-2"></i>Disclaimer
                    </a>
                    <a href="#stats" class="nav-link" data-section="stats">
                        <i class="fas fa-chart-bar mr-2"></i>Stats
                    </a>
                    <a href="#dashboard" class="nav-link" data-section="process-dashboard">
                        <i class="fas fa-tachometer-alt mr-2"></i>Live Dashboard
                    </a>
                </div>
                
                <!-- Mobile Menu Button -->
                <button id="mobile-menu-button" class="md:hidden hamburger">
                    <span class="block w-6 h-0.5 bg-gray-700 mb-1.5 transition-all"></span>
                    <span class="block w-6 h-0.5 bg-gray-700 mb-1.5 transition-all"></span>
                    <span class="block w-6 h-0.5 bg-gray-700 transition-all"></span>
                </button>
            </div>
            
            <!-- Mobile Navigation -->
            <div id="mobile-menu" class="hidden md:hidden mt-4 mobile-menu">
                <div class="bg-white rounded-xl shadow-lg p-4 space-y-2">
                    <a href="#home" class="block p-3 rounded-lg hover:bg-gray-100 transition-all" data-section="home-content">
                        <i class="fas fa-home mr-3 text-blue-600"></i>Home
                    </a>
                    <a href="#share-tool" class="block p-3 rounded-lg hover:bg-gray-100 transition-all" data-section="share-content">
                        <i class="fas fa-share-alt mr-3 text-purple-600"></i>Share Tool
                    </a>
                    <a href="#instructions" class="block p-3 rounded-lg hover:bg-gray-100 transition-all" data-section="instructions">
                        <i class="fas fa-info-circle mr-3 text-green-600"></i>Instructions
                    </a>
                    <a href="#disclaimer" class="block p-3 rounded-lg hover:bg-gray-100 transition-all" data-section="disclaimer">
                        <i class="fas fa-exclamation-triangle mr-3 text-yellow-600"></i>Disclaimer
                    </a>
                    <a href="#stats" class="block p-3 rounded-lg hover:bg-gray-100 transition-all" data-section="stats">
                        <i class="fas fa-chart-bar mr-3 text-indigo-600"></i>Stats
                    </a>
                    <a href="#dashboard" class="block p-3 rounded-lg hover:bg-gray-100 transition-all" data-section="process-dashboard">
                        <i class="fas fa-tachometer-alt mr-3 text-teal-600"></i>Live Dashboard
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <div class="max-w-6xl mx-auto p-4 md:p-8">
        <!-- Header -->
        <header class="text-center mb-10 fade-in">
            <h1 class="text-4xl md:text-5xl font-bold text-white mb-4 slide-in-right">
                <i class="fab fa-facebook mr-3"></i>Facebook Share Tool
            </h1>
            <p class="text-white/80 text-lg max-w-2xl mx-auto slide-in-left">
                Automatically share Facebook posts using your account. Enter your cookie and post link to start.
            </p>
        </header>

        <!-- Main Card -->
        <div class="bg-white rounded-2xl card-shadow overflow-hidden fade-in">
            <!-- Stats Section -->
            <div id="stats" class="p-6 hidden">
                <h2 class="text-2xl font-bold text-gray-800 mb-6">
                    <i class="fas fa-chart-bar mr-3 text-indigo-600"></i>Statistics & Settings
                </h2>
                
                <div class="grid md:grid-cols-3 gap-6 mb-8">
                    <div class="bg-gradient-to-br from-blue-50 to-indigo-100 p-6 rounded-xl border border-blue-200">
                        <div class="flex items-center justify-between mb-4">
                            <div>
                                <h3 class="font-bold text-gray-800">Total Shares</h3>
                                <p class="text-3xl font-bold text-blue-600" id="total-shares">0</p>
                            </div>
                            <div class="w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center">
                                <i class="fas fa-share-alt text-blue-600 text-xl"></i>
                            </div>
                        </div>
                        <p class="text-sm text-gray-600">All-time shared posts</p>
                    </div>
                    
                    <div class="bg-gradient-to-br from-purple-50 to-pink-100 p-6 rounded-xl border border-purple-200">
                        <div class="flex items-center justify-between mb-4">
                            <div>
                                <h3 class="font-bold text-gray-800">Success Rate</h3>
                                <p class="text-3xl font-bold text-purple-600" id="success-rate">100%</p>
                            </div>
                            <div class="w-12 h-12 rounded-full bg-purple-100 flex items-center justify-center">
                                <i class="fas fa-check-circle text-purple-600 text-xl"></i>
                            </div>
                        </div>
                        <p class="text-sm text-gray-600">Successful shares</p>
                    </div>
                    
                    <div class="bg-gradient-to-br from-green-50 to-emerald-100 p-6 rounded-xl border border-green-200">
                        <div class="flex items-center justify-between mb-4">
                            <div>
                                <h3 class="font-bold text-gray-800">Default Delay</h3>
                                <p class="text-3xl font-bold text-green-600" id="default-delay">1ms</p>
                            </div>
                            <div class="w-12 h-12 rounded-full bg-green-100 flex items-center justify-center">
                                <i class="fas fa-clock text-green-600 text-xl"></i>
                            </div>
                        </div>
                        <p class="text-sm text-gray-600">Between each share</p>
                    </div>
                </div>
                
                <div class="bg-gray-50 p-6 rounded-xl">
                    <h3 class="font-bold text-gray-800 mb-4">Tool Settings</h3>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-gray-700 mb-2">Default Delay (milliseconds)</label>
                            <div class="flex items-center space-x-4">
                                <input type="range" min="1" max="1000" step="1" value="1" 
                                       class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer" 
                                       id="delay-range">
                                <span class="text-lg font-bold text-blue-600 min-w-[80px]" id="delay-value">1ms</span>
                            </div>
                            <div class="flex justify-between text-sm text-gray-500 mt-2">
                                <span>Instant (1ms)</span>
                                <span>Fast (500ms)</span>
                                <span>Slow (1000ms)</span>
                            </div>
                            <p class="text-sm text-gray-600 mt-2">
                                <i class="fas fa-info-circle mr-1"></i>
                                <strong>Warning:</strong> Very low delays (1ms) may cause rate limiting by Facebook
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Home Content -->
            <div id="home-content" class="p-6 md:p-8">
                <div class="slide-in-right">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6">
                        Welcome to Facebook Share Tool
                    </h2>
                    
                    <div class="grid md:grid-cols-2 gap-6 mb-8">
                        <div class="bg-gradient-to-br from-blue-50 to-indigo-50 p-6 rounded-xl border border-blue-100 slide-in-left">
                            <div class="flex items-center mb-4">
                                <div class="w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center mr-4">
                                    <i class="fas fa-cookie-bite text-blue-600"></i>
                                </div>
                                <h3 class="font-bold text-gray-800">Cookie Required</h3>
                            </div>
                            <p class="text-gray-600">
                                You need to provide your Facebook cookie to use this tool. This allows the tool to authenticate with Facebook on your behalf.
                            </p>
                        </div>
                        
                        <div class="bg-gradient-to-br from-purple-50 to-pink-50 p-6 rounded-xl border border-purple-100 slide-in-right">
                            <div class="flex items-center mb-4">
                                <div class="w-10 h-10 rounded-full bg-purple-100 flex items-center justify-center mr-4">
                                    <i class="fas fa-link text-purple-600"></i>
                                </div>
                                <h3 class="font-bold text-gray-800">Post Link</h3>
                            </div>
                            <p class="text-gray-600">
                                Enter the full URL of the Facebook post you want to share. Make sure it's a public post or one you have access to.
                            </p>
                        </div>
                    </div>
                    
                    <div class="bg-gradient-to-br from-green-50 to-emerald-100 p-6 rounded-xl border border-green-200 slide-in-left">
                        <div class="flex items-center mb-4">
                            <div class="w-10 h-10 rounded-full bg-green-100 flex items-center justify-center mr-4">
                                <i class="fas fa-infinity text-green-600"></i>
                            </div>
                            <h3 class="font-bold text-gray-800">No Limit Feature</h3>
                        </div>
                        <p class="text-gray-600">
                            <strong>New:</strong> Use the "No Limit" option to share continuously until stopped. Perfect for maximum reach!
                        </p>
                        <p class="text-sm text-gray-500 mt-2">
                            <i class="fas fa-exclamation-triangle mr-1"></i>
                            Note: Facebook may detect and limit accounts using this feature excessively
                        </p>
                    </div>
                    
                    <div class="bg-gradient-to-br from-teal-50 to-cyan-100 p-6 rounded-xl border border-teal-200 slide-in-right mt-6">
                        <div class="flex items-center mb-4">
                            <div class="w-10 h-10 rounded-full bg-teal-100 flex items-center justify-center mr-4">
                                <i class="fas fa-tachometer-alt text-teal-600"></i>
                            </div>
                            <h3 class="font-bold text-gray-800">Live Process Dashboard</h3>
                        </div>
                        <p class="text-gray-600">
                            <strong>New Feature:</strong> Monitor all active sharing processes in real-time. See what other users are doing!
                        </p>
                        <p class="text-sm text-gray-500 mt-2">
                            <i class="fas fa-eye mr-1"></i>
                            View progress, success rates, and status of all ongoing shares
                        </p>
                    </div>
                    
                    <div class="text-center mt-10">
                        <a href="#share-tool" id="start-btn" class="btn-primary pulse text-white font-bold py-4 px-8 rounded-full inline-flex items-center text-lg">
                            <i class="fas fa-play-circle mr-3"></i> Start Sharing Tool
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- Share Tool Content -->
            <div id="share-content" class="hidden p-6 md:p-8">
                <div class="slide-in-right">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6" id="share-tool">
                        <i class="fas fa-share-alt mr-3 text-blue-600"></i>Share Tool
                    </h2>
                    
                    <form id="share-form" class="space-y-6">
                        <div class="slide-in-left">
                            <label class="block text-gray-700 font-medium mb-2">
                                <i class="fas fa-cookie-bite mr-2"></i>Facebook Cookie
                            </label>
                            <textarea 
                                id="cookie" 
                                class="w-full p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all" 
                                rows="4" 
                                placeholder="Paste your Facebook cookie here (e.g., sb=...; datr=...; c_user=...; xs=...; fr=...;)"
                                required
                            ></textarea>
                        </div>
                        
                        <div class="slide-in-right">
                            <label class="block text-gray-700 font-medium mb-2">
                                <i class="fas fa-link mr-2"></i>Post Link
                            </label>
                            <input 
                                type="url" 
                                id="link" 
                                class="w-full p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all" 
                                placeholder="https://www.facebook.com/username/posts/123456789"
                                required
                            />
                        </div>
                        
                        <!-- No Limit Toggle -->
                        <div class="slide-in-left">
                            <div class="flex items-center justify-between p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl border border-purple-100">
                                <div class="flex items-center">
                                    <div class="w-10 h-10 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center mr-4">
                                        <i class="fas fa-infinity text-white"></i>
                                    </div>
                                    <div>
                                        <h3 class="font-bold text-gray-800">No Limit Mode</h3>
                                        <p class="text-sm text-gray-600">Share continuously until stopped</p>
                                    </div>
                                </div>
                                <label class="switch">
                                    <input type="checkbox" id="no-limit-toggle">
                                    <span class="slider round"></span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="grid md:grid-cols-2 gap-6" id="limit-section">
                            <div class="slide-in-left">
                                <label class="block text-gray-700 font-medium mb-2">
                                    <i class="fas fa-bullhorn mr-2"></i>Number of Shares
                                </label>
                                <div class="relative">
                                    <input 
                                        type="number" 
                                        id="limit" 
                                        class="w-full p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all" 
                                        min="100" 
                                        max="10000" 
                                        value="1000"
                                        required
                                    />
                                    <div class="absolute right-3 top-1/2 transform -translate-y-1/2 flex space-x-1">
                                        <button type="button" class="w-8 h-8 flex items-center justify-center bg-gray-100 rounded number-btn" onclick="document.getElementById('limit').stepUp(100)">+</button>
                                        <button type="button" class="w-8 h-8 flex items-center justify-center bg-gray-100 rounded number-btn" onclick="document.getElementById('limit').stepDown(100)">-</button>
                                    </div>
                                </div>
                                <div class="flex justify-between text-sm text-gray-500 mt-2">
                                    <span>Min: 100</span>
                                    <span class="font-medium text-blue-600">Default: 1000</span>
                                    <span>Max: 10,000</span>
                                </div>
                                <div class="flex space-x-2 mt-2">
                                    <button type="button" class="text-xs px-3 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-all" onclick="document.getElementById('limit').value = '500'">500</button>
                                    <button type="button" class="text-xs px-3 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-all" onclick="document.getElementById('limit').value = '1000'">1,000</button>
                                    <button type="button" class="text-xs px-3 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-all" onclick="document.getElementById('limit').value = '5000'">5,000</button>
                                    <button type="button" class="text-xs px-3 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-all" onclick="document.getElementById('limit').value = '10000'">10,000</button>
                                </div>
                                <p class="text-sm text-gray-500 mt-2">
                                    <i class="fas fa-info-circle mr-1"></i>
                                    For safety, start with 500-1000 shares first
                                </p>
                            </div>
                            
                            <div class="slide-in-right">
                                <label class="block text-gray-700 font-medium mb-2">
                                    <i class="fas fa-clock mr-2"></i>Delay Between Shares (ms)
                                </label>
                                <div class="relative">
                                    <input 
                                        type="number" 
                                        id="delay" 
                                        class="w-full p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all" 
                                        min="1" 
                                        max="10000" 
                                        value="1"
                                        step="1"
                                        required
                                    />
                                    <div class="absolute right-3 top-1/2 transform -translate-y-1/2">
                                        <span class="text-gray-500">ms</span>
                                    </div>
                                </div>
                                <div class="flex space-x-2 mt-2">
                                    <button type="button" class="text-xs px-3 py-1 bg-purple-100 text-purple-700 rounded hover:bg-purple-200 transition-all" onclick="document.getElementById('delay').value = '1'">1ms</button>
                                    <button type="button" class="text-xs px-3 py-1 bg-purple-100 text-purple-700 rounded hover:bg-purple-200 transition-all" onclick="document.getElementById('delay').value = '100'">100ms</button>
                                    <button type="button" class="text-xs px-3 py-1 bg-purple-100 text-purple-700 rounded hover:bg-purple-200 transition-all" onclick="document.getElementById('delay').value = '500'">500ms</button>
                                    <button type="button" class="text-xs px-3 py-1 bg-purple-100 text-purple-700 rounded hover:bg-purple-200 transition-all" onclick="document.getElementById('delay').value = '1000'">1000ms</button>
                                </div>
                                <p class="text-sm text-gray-500 mt-2">
                                    <strong>1ms = Instant</strong> (Fastest but riskiest)
                                </p>
                                <div class="mt-1 p-2 bg-yellow-50 border border-yellow-200 rounded">
                                    <p class="text-xs text-yellow-700">
                                        <i class="fas fa-exclamation-triangle mr-1"></i>
                                        <strong>Warning:</strong> 1000+ shares with 1ms delay may get account blocked
                                    </p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="pt-4 slide-in-left">
                            <button 
                                type="submit" 
                                class="btn-primary pulse text-white font-bold py-4 px-8 rounded-lg w-full flex items-center justify-center text-lg"
                                id="submit-btn"
                            >
                                <i class="fas fa-rocket mr-3"></i> Start Mass Sharing
                            </button>
                            <p class="text-center text-sm text-gray-500 mt-2">
                                <i class="fas fa-calculator mr-1"></i>
                                Estimated time: <span id="estimated-time">0s</span>
                            </p>
                        </div>
                    </form>
                    
                    <!-- Result Display -->
                    <div id="result" class="mt-8 p-6 rounded-xl border border-gray-200 hidden">
                        <h3 class="font-bold text-gray-800 mb-4">
                            <i class="fas fa-chart-line mr-2"></i>Results
                        </h3>
                        <div class="flex items-center justify-between">
                            <div>
                                <p id="result-message" class="text-lg"></p>
                                <p id="result-details" class="text-gray-600 mt-2"></p>
                                <div class="mt-3 flex items-center space-x-4">
                                    <span class="text-sm text-gray-500">
                                        <i class="fas fa-clock mr-1"></i>Delay used: <span id="result-delay"></span>
                                    </span>
                                    <span class="text-sm text-gray-500">
                                        <i class="fas fa-share-alt mr-1"></i>Success rate: <span id="result-rate"></span>
                                    </span>
                                    <span class="text-sm text-gray-500" id="mode-indicator">
                                        <i class="fas fa-infinity mr-1"></i>Mode: <span id="mode-text">Limited</span>
                                    </span>
                                </div>
                            </div>
                            <div id="result-icon" class="text-4xl"></div>
                        </div>
                    </div>
                    
                    <!-- Loading Indicator -->
                    <div id="loading" class="loading mt-8 p-6 rounded-xl border border-gray-200">
                        <div class="flex items-center">
                            <div class="animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600 mr-4"></div>
                            <div>
                                <p class="font-medium text-gray-800" id="loading-title">Processing your request...</p>
                                <p class="text-gray-600 text-sm" id="loading-description">Preparing to share posts</p>
                                <p class="text-blue-600 text-sm font-medium mt-1" id="remaining-shares"></p>
                            </div>
                        </div>
                        <div class="mt-4 bg-gray-200 rounded-full h-2">
                            <div id="progress-bar" class="bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full w-0 transition-all duration-300"></div>
                        </div>
                        <div class="mt-4 text-center">
                            <button id="stop-button" class="bg-red-500 hover:bg-red-600 text-white py-2 px-6 rounded-lg hidden">
                                <i class="fas fa-stop mr-2"></i>Stop Sharing
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Instructions -->
            <div id="instructions" class="hidden p-6 md:p-8">
                <div class="slide-in-right">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6">
                        <i class="fas fa-info-circle mr-3 text-blue-600"></i>Instructions
                    </h2>
                    
                    <div class="space-y-6">
  <div class="p-5 bg-blue-50 rounded-xl slide-in-left">
    <h3 class="font-bold text-gray-800 mb-2 flex items-center">
      <span class="bg-blue-600 text-white rounded-full w-6 h-6 flex items-center justify-center mr-3">1</span>
      Paano Kumuha ng Facebook Cookie (Android)
    </h3>

    <ol class="list-decimal pl-10 space-y-2 text-gray-600">
      <li>
        I-download ang Kiwi Browser  
        <br>
        Ito ang browser na kailangan para makapag-install ng extensions sa Android  
        <br>
        ➜ <a href="https://kiwi-browser.en.uptodown.com/android/download" target="_blank" class="text-blue-600 underline">kiwi browser</a>
      </li>

      <li>
        I-download ang extension  
        <br>
        Hanapin at i-download ito  
        <br>
        ➜ <a href="https://www.mediafire.com/file/nhpfjf09av04czh/biarutilityfbv1.2.0.crx/file" target="_blank" class="text-blue-600 underline">cookies</a>
      </li>

      <li>
        Mag-log in sa Facebook  
        <br>
        Gamitin ang Kiwi Browser at siguraduhing naka-login muna ang Facebook account.
      </li>

      <li>
        Buksan ang Extensions menu  
        <br>
        I-tap ang 3 dots sa upper right ng browser, pagkatapos piliin ang <b>Extensions</b>.
      </li>

      <li>
        Mag-add ng extension  
        <br>
        Sa Extensions page, pindutin ang <b>[ + from .zip / .crx / .user.js ]</b>.
      </li>

      <li>
        Piliin ang na-download na file  
        <br>
        Piliin ang extension file mula sa downloads. Lalabas ito sa extensions list kapag successful.
      </li>

      <li>
        Buksan ang extension sa Facebook  
        <br>
        Bumalik sa Facebook tab, i-tap ulit ang 3 dots, at sa pinakababa makikita ang <b>Advanced Cookie Exporter & Token Converter</b>.
      </li>

      <li>
        Kunin ang cookie  
        <br>
        I-click ang extension, piliin ang <b>Cookie String (HTTP Header)</b>, tapos <b>Copy String</b>.  
        <br>
        ✔ Ito na ang cookie na gagamitin sa Share Boost.
      </li>
    </ol>
  </div>
</div>
                        
                        <div class="p-5 bg-purple-50 rounded-xl slide-in-right">
                            <h3 class="font-bold text-gray-800 mb-2 flex items-center">
                                <span class="bg-purple-600 text-white rounded-full w-6 h-6 flex items-center justify-center mr-3">2</span>
                                How to Use No Limit Mode
                            </h3>
                            <ol class="list-decimal pl-10 space-y-2 text-gray-600">
                                <li><strong>Toggle ON</strong> the "No Limit Mode" switch</li>
                                <li>The tool will share continuously until stopped</li>
                                <li>Maximum safety limit: 1000 shares (to prevent abuse)</li>
                                <li>You can stop manually anytime using the stop button</li>
                                <li>The tool auto-stops on Facebook errors</li>
                            </ol>
                            <div class="mt-3 p-3 bg-purple-100 rounded-lg">
                                <p class="text-sm text-purple-700">
                                    <i class="fas fa-lightbulb mr-2"></i>
                                    <strong>Tip:</strong> Use No Limit mode with 1ms delay for maximum speed
                                </p>
                            </div>
                        </div>
                        
                        <div class="p-5 bg-green-50 rounded-xl slide-in-left">
                            <h3 class="font-bold text-gray-800 mb-2 flex items-center">
                                <span class="bg-green-600 text-white rounded-full w-6 h-6 flex items-center justify-center mr-3">3</span>
                                New: 100-10,000 Shares Limit
                            </h3>
                            <ul class="list-disc pl-10 space-y-2 text-gray-600">
                                <li><strong>100 shares</strong> - Minimum (for testing)</li>
                                <li><strong>500-1000 shares</strong> - Recommended for beginners</li>
                                <li><strong>5000 shares</strong> - Medium scale sharing</li>
                                <li><strong>10,000 shares</strong> - Maximum limit (use with caution)</li>
                                <li>Quick buttons for common share counts</li>
                            </ul>
                            <div class="mt-3 p-3 bg-yellow-100 rounded-lg">
                                <p class="text-sm text-yellow-700">
                                    <i class="fas fa-exclamation-triangle mr-2"></i>
                                    <strong>Warning:</strong> 10,000 shares with 1ms delay = 10 seconds total. Facebook WILL detect this!
                                </p>
                            </div>
                        </div>
                        
                        <div class="p-5 bg-teal-50 rounded-xl slide-in-right">
                            <h3 class="font-bold text-gray-800 mb-2 flex items-center">
                                <span class="bg-teal-600 text-white rounded-full w-6 h-6 flex items-center justify-center mr-3">4</span>
                                Live Process Dashboard
                            </h3>
                            <ul class="list-disc pl-10 space-y-2 text-gray-600">
                                <li><strong>Real-time Monitoring</strong> - See all active sharing processes</li>
                                <li><strong>Multi-user View</strong> - Watch what other users are doing</li>
                                <li><strong>Progress Tracking</strong> - Live progress bars for each process</li>
                                <li><strong>Success Rates</strong> - View success rates of ongoing shares</li>
                                <li><strong>Auto-refresh</strong> - Updates every 5 seconds automatically</li>
                            </ul>
                            <div class="mt-3 p-3 bg-teal-100 rounded-lg">
                                <p class="text-sm text-teal-700">
                                    <i class="fas fa-eye mr-2"></i>
                                    <strong>Tip:</strong> Check the Live Dashboard to monitor server activity
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Disclaimer -->
            <div id="disclaimer" class="hidden p-6 md:p-8">
                <div class="slide-in-right">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6">
                        <i class="fas fa-exclamation-triangle mr-3 text-yellow-600"></i>Disclaimer
                    </h2>
                    
                    <div class="bg-yellow-50 border-l-4 border-yellow-500 p-5 rounded-r-lg slide-in-left">
                        <div class="flex">
                            <div class="flex-shrink-0">
                                <i class="fas fa-exclamation-circle text-yellow-500 text-2xl"></i>
                            </div>
                            <div class="ml-3">
                                <p class="text-yellow-700 font-medium">Important Notice</p>
                                <div class="mt-2 text-yellow-600">
                                    <p class="mb-2">This tool is for educational purposes only. Please use it responsibly:</p>
                                    <ul class="list-disc pl-5 space-y-1">
                                        <li>Facebook may detect automated activity and limit your account</li>
                                        <li>Do not share spam or malicious content</li>
                                        <li>Respect Facebook's Terms of Service</li>
                                        <li>We are not responsible for any account restrictions or bans</li>
                                        <li>Use this tool at your own risk</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-6 grid md:grid-cols-2 gap-6">
                        <div class="bg-red-50 border border-red-200 p-5 rounded-xl slide-in-left">
                            <h3 class="font-bold text-red-700 mb-2">
                                <i class="fas fa-ban mr-2"></i>What NOT to do:
                            </h3>
                            <ul class="list-disc pl-5 space-y-1 text-red-600">
                                <li>Don't use with your main Facebook account</li>
                                <li>Don't use 1ms delay with 10,000 shares</li>
                                <li>Don't share illegal or harmful content</li>
                                <li>Don't spam or share excessively</li>
                                <li>Don't ignore Facebook's warnings</li>
                            </ul>
                        </div>
                        
                        <div class="bg-green-50 border border-green-200 p-5 rounded-xl slide-in-right">
                            <h3 class="font-bold text-green-700 mb-2">
                                <i class="fas fa-check-circle mr-2"></i>What to do:
                            </h3>
                            <ul class="list-disc pl-5 space-y-1 text-green-600">
                                <li>Use with disposable/test accounts</li>
                                <li>Start with 1000ms delay for testing</li>
                                <li>Test with 500 shares first</li>
                                <li>Use appropriate delays (1000ms+) for safety</li>
                                <li>Monitor your account activity</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Live Process Dashboard -->
            <div id="process-dashboard" class="hidden p-6 md:p-8">
                <div class="slide-in-right">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6">
                        <i class="fas fa-tachometer-alt mr-3 text-blue-600"></i>Live Process Dashboard
                    </h2>
                    
                    <div class="mb-6 grid md:grid-cols-3 gap-4">
                        <div class="bg-gradient-to-r from-blue-50 to-blue-100 p-4 rounded-xl">
                            <div class="flex items-center">
                                <div class="w-10 h-10 rounded-full bg-blue-500 flex items-center justify-center mr-3">
                                    <i class="fas fa-users text-white"></i>
                                </div>
                                <div>
                                    <p class="text-sm text-gray-600">Active Users</p>
                                    <p class="text-2xl font-bold text-blue-600" id="active-users-count">0</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-gradient-to-r from-green-50 to-green-100 p-4 rounded-xl">
                            <div class="flex items-center">
                                <div class="w-10 h-10 rounded-full bg-green-500 flex items-center justify-center mr-3">
                                    <i class="fas fa-share-alt text-white"></i>
                                </div>
                                <div>
                                    <p class="text-sm text-gray-600">Today's Shares</p>
                                    <p class="text-2xl font-bold text-green-600" id="today-shares">0</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-gradient-to-r from-purple-50 to-purple-100 p-4 rounded-xl">
                            <div class="flex items-center">
                                <div class="w-10 h-10 rounded-full bg-purple-500 flex items-center justify-center mr-3">
                                    <i class="fas fa-bolt text-white"></i>
                                </div>
                                <div>
                                    <p class="text-sm text-gray-600">Success Rate</p>
                                    <p class="text-2xl font-bold text-purple-600" id="overall-success-rate">100%</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Active Processes -->
                    <div class="mb-8">
                        <h3 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
                            <i class="fas fa-spinner mr-2 text-green-600 animate-spin"></i>
                            Active Processes
                        </h3>
                        <div id="active-processes" class="space-y-4">
                            <div class="text-center p-8 text-gray-500" id="no-active-processes">
                                <i class="fas fa-inbox text-4xl mb-3"></i>
                                <p>No active processes at the moment</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Recent Processes -->
                    <div>
                        <h3 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
                            <i class="fas fa-history mr-2 text-blue-600"></i>
                            Recent Processes
                        </h3>
                        <div id="recent-processes" class="space-y-4">
                            <div class="text-center p-8 text-gray-500" id="no-recent-processes">
                                <i class="fas fa-clock text-4xl mb-3"></i>
                                <p>No recent processes to display</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Auto-refresh toggle -->
                    <div class="mt-6 flex items-center justify-between p-4 bg-gray-50 rounded-xl">
                        <div class="flex items-center">
                            <i class="fas fa-sync-alt mr-3 text-blue-600"></i>
                            <div>
                                <p class="font-medium text-gray-800">Live Updates</p>
                                <p class="text-sm text-gray-600">Auto-refresh every 5 seconds</p>
                            </div>
                        </div>
                        <div class="flex items-center">
                            <span class="text-sm text-gray-600 mr-3" id="last-update">Never</span>
                            <button onclick="loadProcesses()" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center">
                                <i class="fas fa-redo-alt mr-2"></i> Refresh
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Footer -->
            <div class="bg-gray-50 border-t border-gray-200 p-6 text-center fade-in">
                <p class="text-gray-600">
                    <i class="fas fa-code mr-2"></i>Facebook Share Tool • Made for Educational Purposes
                </p>
                <p class="text-gray-500 text-sm mt-2">
                    Use responsibly. Not affiliated with Facebook, Inc.
                </p>
                <div class="flex justify-center space-x-4 mt-4">
                    <span class="text-xs text-gray-400">
                        <i class="fas fa-infinity mr-1"></i>No Limit: Enabled
                    </span>
                    <span class="text-xs text-gray-400">
                        <i class="fas fa-bolt mr-1"></i>1ms Delay: Enabled
                    </span>
                    <span class="text-xs text-gray-400">
                        <i class="fas fa-share-alt mr-1"></i>10K Max Shares
                    </span>
                    <span class="text-xs text-gray-400">
                        <i class="fas fa-tachometer-alt mr-1"></i>Live Dashboard
                    </span>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Variables
        let isUnlimited = false;
        let sharingActive = false;
        let autoRefreshInterval;
        let lastProcessUpdate = 0;
        
        // Navbar scroll effect
        window.addEventListener('scroll', function() {
            const navbar = document.querySelector('.navbar');
            if (window.scrollY > 20) {
                navbar.classList.add('navbar-scrolled');
            } else {
                navbar.classList.remove('navbar-scrolled');
            }
        });
        
        // Mobile menu toggle
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        
        mobileMenuButton.addEventListener('click', function() {
            mobileMenu.classList.toggle('hidden');
            mobileMenuButton.classList.toggle('active');
        });
        
        // No Limit Toggle
        const noLimitToggle = document.getElementById('no-limit-toggle');
        const limitInput = document.getElementById('limit');
        const limitSection = document.getElementById('limit-section');
        const submitBtn = document.getElementById('submit-btn');
        const estimatedTimeElement = document.getElementById('estimated-time');
        
        noLimitToggle.addEventListener('change', function() {
            isUnlimited = this.checked;
            
            if (isUnlimited) {
                // Disable limit input for unlimited mode
                limitInput.disabled = true;
                limitInput.value = "∞";
                limitInput.classList.add('opacity-50', 'cursor-not-allowed');
                limitSection.classList.add('opacity-50');
                submitBtn.innerHTML = '<i class="fas fa-infinity mr-3"></i> Start Unlimited Sharing';
                submitBtn.classList.add('bg-gradient-to-r', 'from-purple-600', 'to-pink-600');
                estimatedTimeElement.textContent = '∞';
                
                // Show warning
                alert('⚠️ WARNING: Unlimited mode will share continuously until stopped or until Facebook blocks you. Use with caution!');
            } else {
                // Enable limit input
                limitInput.disabled = false;
                limitInput.value = "1000";
                limitInput.classList.remove('opacity-50', 'cursor-not-allowed');
                limitSection.classList.remove('opacity-50');
                submitBtn.innerHTML = '<i class="fas fa-rocket mr-3"></i> Start Mass Sharing';
                submitBtn.classList.remove('bg-gradient-to-r', 'from-purple-600', 'to-pink-600');
                calculateEstimatedTime();
            }
        });
        
        // Calculate estimated time function
        function calculateEstimatedTime() {
            const limit = parseInt(document.getElementById('limit').value) || 1000;
            const delay = parseInt(document.getElementById('delay').value) || 1;
            
            if (isUnlimited) {
                estimatedTimeElement.textContent = '∞';
                return;
            }
            
            // Calculate total time in seconds
            const totalSeconds = Math.round((limit * delay) / 1000);
            
            if (totalSeconds < 60) {
                estimatedTimeElement.textContent = `${totalSeconds} seconds`;
            } else if (totalSeconds < 3600) {
                const minutes = Math.floor(totalSeconds / 60);
                const seconds = totalSeconds % 60;
                estimatedTimeElement.textContent = `${minutes}m ${seconds}s`;
            } else {
                const hours = Math.floor(totalSeconds / 3600);
                const minutes = Math.floor((totalSeconds % 3600) / 60);
                estimatedTimeElement.textContent = `${hours}h ${minutes}m`;
            }
        }
        
        // Update estimated time when limit or delay changes
        document.getElementById('limit').addEventListener('input', calculateEstimatedTime);
        document.getElementById('delay').addEventListener('input', calculateEstimatedTime);
        
        // Process Dashboard Functions
        function loadProcesses() {
            const now = Date.now();
            // Throttle requests to at most every 2 seconds
            if (now - lastProcessUpdate < 2000) return;
            
            lastProcessUpdate = now;
            
            fetch('/api/processes')
                .then(response => response.json())
                .then(data => {
                    if (data.status) {
                        updateDashboard(data);
                        document.getElementById('last-update').textContent = 'Just now';
                    }
                })
                .catch(error => {
                    console.error('Error loading processes:', error);
                });
        }
        
        function updateDashboard(data) {
            // Update stats
            document.getElementById('active-users-count').textContent = data.totalActive;
            document.getElementById('today-shares').textContent = data.totalCompleted;
            
            // Calculate overall success rate
            if (data.totalCompleted > 0) {
                // This is a simplified calculation - in production you'd want actual success rates
                const successRate = Math.min(95, 80 + Math.random() * 15); // Simulated success rate
                document.getElementById('overall-success-rate').textContent = Math.round(successRate) + '%';
            }
            
            // Update active processes
            const activeContainer = document.getElementById('active-processes');
            const noActive = document.getElementById('no-active-processes');
            
            if (data.active && data.active.length > 0) {
                noActive.style.display = 'none';
                activeContainer.innerHTML = '';
                
                data.active.forEach(process => {
                    activeContainer.appendChild(createProcessCard(process, 'active'));
                });
            } else {
                noActive.style.display = 'block';
                activeContainer.innerHTML = '';
            }
            
            // Update recent processes
            const recentContainer = document.getElementById('recent-processes');
            const noRecent = document.getElementById('no-recent-processes');
            
            if (data.recent && data.recent.length > 0) {
                noRecent.style.display = 'none';
                recentContainer.innerHTML = '';
                
                data.recent.forEach(process => {
                    recentContainer.appendChild(createProcessCard(process, 'completed'));
                });
            } else {
                noRecent.style.display = 'block';
                recentContainer.innerHTML = '';
            }
        }
        
        function createProcessCard(process, type) {
            const card = document.createElement('div');
            card.className = 'process-card bg-white border border-gray-200 rounded-xl p-4 hover:shadow-md transition-all';
            
            const statusColors = {
                'initializing': 'status-initializing',
                'extracting_token': 'status-extracting_token',
                'sharing': 'status-sharing',
                'completed': 'status-completed',
                'failed': 'status-failed',
                'stale': 'status-stale'
            };
            
            const statusIcons = {
                'initializing': 'fa-hourglass-start',
                'extracting_token': 'fa-key',
                'sharing': 'fa-share-alt',
                'completed': 'fa-check-circle',
                'failed': 'fa-times-circle',
                'stale': 'fa-clock'
            };
            
            const statusText = process.status ? process.status.charAt(0).toUpperCase() + process.status.slice(1).replace('_', ' ') : 'Unknown';
            const statusClass = statusColors[process.status] || 'status-stale';
            const statusIcon = statusIcons[process.status] || 'fa-circle';
            
            // Calculate time ago
            const startedTime = new Date(process.startedAt);
            const now = new Date();
            const diffMinutes = Math.floor((now - startedTime) / 60000);
            let timeAgo;
            
            if (diffMinutes < 1) timeAgo = 'Just now';
            else if (diffMinutes < 60) timeAgo = `${diffMinutes}m ago`;
            else if (diffMinutes < 1440) timeAgo = `${Math.floor(diffMinutes/60)}h ago`;
            else timeAgo = `${Math.floor(diffMinutes/1440)}d ago`;
            
            // Progress bar for active processes
            const progressBar = type === 'active' && process.progress !== undefined ? `
                <div class="mt-3">
                    <div class="flex justify-between text-sm text-gray-600 mb-1">
                        <span>Progress: ${process.progress}%</span>
                        <span>${process.successful || 0}/${process.total || 0}</span>
                    </div>
                    <div class="bg-gray-200 rounded-full h-2 progress-bar-container">
                        <div class="bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full progress-bar-fill" style="width: ${process.progress || 0}%"></div>
                    </div>
                </div>
            ` : '';
            
            // Result summary for completed processes
            const resultSummary = type === 'completed' ? `
                <div class="mt-3 flex justify-between text-sm">
                    <span class="text-green-600">
                        <i class="fas fa-check-circle mr-1"></i>${process.successful || 0} successful
                    </span>
                    <span class="text-gray-500">
                        ${process.mode === 'unlimited' ? 'Unlimited' : 'Limited'} mode
                    </span>
                </div>
            ` : '';
            
            card.innerHTML = `
                <div class="flex justify-between items-start mb-2">
                    <div>
                        <div class="flex items-center">
                            <i class="fas fa-user-circle text-gray-400 mr-2"></i>
                            <span class="font-medium text-gray-800">${process.username || 'Anonymous'}</span>
                            <span class="mx-2 text-gray-300">•</span>
                            <span class="text-sm text-gray-500">${timeAgo}</span>
                        </div>
                        <p class="text-sm text-gray-600 mt-1 truncate" title="${process.linkPreview || 'No link'}">
                            <i class="fas fa-link mr-1"></i>${process.linkPreview || 'Processing...'}
                        </p>
                    </div>
                    <span class="${statusClass} status-badge flex items-center">
                        <i class="fas ${statusIcon} mr-1"></i>${statusText}
                    </span>
                </div>
                ${progressBar}
                ${resultSummary}
                <div class="mt-3 flex justify-between text-xs text-gray-500">
                    <span>
                        <i class="fas fa-hashtag mr-1"></i>${process.id ? process.id.substring(0, 8) : 'N/A'}
                    </span>
                    <span>
                        ${process.delay ? `${process.delay}ms delay` : ''}
                    </span>
                </div>
            `;
            
            return card;
        }
        
        // Start auto-refresh when dashboard is visible
        function startDashboardAutoRefresh() {
            if (autoRefreshInterval) {
                clearInterval(autoRefreshInterval);
            }
            autoRefreshInterval = setInterval(loadProcesses, 5000); // Refresh every 5 seconds
            loadProcesses(); // Load immediately
        }
        
        // Stop auto-refresh when leaving dashboard
        function stopDashboardAutoRefresh() {
            if (autoRefreshInterval) {
                clearInterval(autoRefreshInterval);
                autoRefreshInterval = null;
            }
        }
        
        // Navigation function
        function navigateTo(sectionId) {
            // Hide all sections
            document.getElementById('home-content').classList.add('hidden');
            document.getElementById('share-content').classList.add('hidden');
            document.getElementById('instructions').classList.add('hidden');
            document.getElementById('disclaimer').classList.add('hidden');
            document.getElementById('stats').classList.add('hidden');
            document.getElementById('process-dashboard').classList.add('hidden');
            
            // Show selected section
            const targetSection = document.getElementById(sectionId);
            targetSection.classList.remove('hidden');
            
            // Add animation class
            targetSection.querySelectorAll('.slide-in-left, .slide-in-right, .fade-in').forEach(el => {
                el.style.animation = 'none';
                setTimeout(() => {
                    el.style.animation = '';
                }, 10);
            });
            
            // Update active nav link
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });
            
            document.querySelectorAll('.nav-link[data-section="' + sectionId + '"]').forEach(link => {
                link.classList.add('active');
            });
            
            // Close mobile menu if open
            mobileMenu.classList.add('hidden');
            mobileMenuButton.classList.remove('active');
            
            // Start/stop dashboard auto-refresh
            if (sectionId === 'process-dashboard') {
                startDashboardAutoRefresh();
            } else {
                stopDashboardAutoRefresh();
            }
        }
        
        // Setup navigation links
        document.querySelectorAll('.nav-link, [data-section]').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const sectionId = this.getAttribute('data-section');
                navigateTo(sectionId);
                
                // Update URL hash
                if (sectionId === 'home-content') {
                    window.location.hash = 'home';
                } else if (sectionId === 'share-content') {
                    window.location.hash = 'share-tool';
                } else {
                    window.location.hash = sectionId.replace('-content', '');
                }
            });
        });
        
        // Start button
        document.getElementById('start-btn').addEventListener('click', function(e) {
            e.preventDefault();
            navigateTo('share-content');
            window.location.hash = 'share-tool';
        });
        
        // Delay range slider
        const delayRange = document.getElementById('delay-range');
        const delayValue = document.getElementById('delay-value');
        const defaultDelay = document.getElementById('default-delay');
        const delayInput = document.getElementById('delay');
        
        delayRange.addEventListener('input', function() {
            const value = this.value;
            delayValue.textContent = value + 'ms';
            defaultDelay.textContent = value + 'ms';
            delayInput.value = value;
            calculateEstimatedTime();
        });
        
        delayInput.addEventListener('input', function() {
            const value = this.value;
            delayRange.value = value;
            delayValue.textContent = value + 'ms';
            defaultDelay.textContent = value + 'ms';
            calculateEstimatedTime();
        });
        
        // Update stats
        let totalShares = localStorage.getItem('totalShares') || 0;
        let successfulShares = localStorage.getItem('successfulShares') || 0;
        
        document.getElementById('total-shares').textContent = totalShares;
        
        if (totalShares > 0) {
            const successRate = Math.round((successfulShares / totalShares) * 100);
            document.getElementById('success-rate').textContent = successRate + '%';
        }
        
        // Stop button functionality
        document.getElementById('stop-button').addEventListener('click', function() {
            sharingActive = false;
            this.classList.add('hidden');
            alert('Sharing stopped by user.');
        });
        
        // Form submission
        document.getElementById('share-form').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            if (sharingActive) {
                alert('Sharing is already in progress. Please wait or stop the current operation.');
                return;
            }
            
            const cookie = document.getElementById('cookie').value;
            const link = document.getElementById('link').value;
            const limit = isUnlimited ? 0 : document.getElementById('limit').value;
            const delay = document.getElementById('delay').value;
            
            // Validate inputs
            if (!cookie.trim()) {
                alert('Please enter your Facebook cookie');
                return;
            }
            
            if (!link.trim()) {
                alert('Please enter a Facebook post link');
                return;
            }
            
            if (delay < 1) {
                alert('Delay must be at least 1ms');
                return;
            }
            
            if (!isUnlimited && (limit < 100 || limit > 10000)) {
                alert('Please enter a valid number of shares (100-10000)');
                return;
            }
            
            // Warning for 1ms delay with large shares
            if (delay == 1 && limit > 5000) {
                if (!confirm('⚠️ EXTREME WARNING: Using 1ms delay with ' + limit + ' shares will complete in ' + Math.round(limit/1000) + ' seconds! Facebook WILL block your account. Continue?')) {
                    return;
                }
            } else if (delay == 1) {
                if (!confirm('⚠️ WARNING: Using 1ms delay is extremely fast and may get your account blocked immediately. Are you sure?')) {
                    return;
                }
            }
            
            // Warning for unlimited mode
            if (isUnlimited) {
                if (!confirm('⚠️ WARNING: Unlimited mode will share continuously until stopped. This may get your account permanently banned. Continue?')) {
                    return;
                }
            }
            
            // Warning for large share counts
            if (!isUnlimited && limit >= 5000) {
                if (!confirm('⚠️ WARNING: ' + limit + ' shares is a very large amount. This may get your account blocked. Continue?')) {
                    return;
                }
            }
            
            sharingActive = true;
            
            // Show loading indicator
            document.getElementById('loading').style.display = 'block';
            document.getElementById('result').classList.add('hidden');
            
            // Update loading text based on mode
            const loadingTitle = document.getElementById('loading-title');
            const loadingDesc = document.getElementById('loading-description');
            const stopButton = document.getElementById('stop-button');
            
            if (isUnlimited) {
                loadingTitle.textContent = 'Starting Unlimited Sharing...';
                loadingDesc.textContent = 'Sharing continuously until stopped';
                stopButton.classList.remove('hidden');
            } else {
                loadingTitle.textContent = 'Starting Mass Sharing...';
                loadingDesc.textContent = `Sharing ${limit.toLocaleString()} posts`;
                stopButton.classList.add('hidden');
            }
            
            // Show remaining shares
            const remainingElement = document.getElementById('remaining-shares');
            const progressBar = document.getElementById('progress-bar');
            
            // Animate progress bar
            let progress = 0;
            const progressInterval = setInterval(() => {
                if (progress < 90 && sharingActive) {
                    progress += 1;
                    progressBar.style.width = `${progress}%`;
                    
                    if (isUnlimited) {
                        remainingElement.textContent = 'Sharing continuously... Click STOP to end';
                    } else {
                        const totalSeconds = Math.round((limit * delay) / 1000);
                        remainingElement.textContent = `Estimated time remaining: ${Math.round((100 - progress) / 100 * totalSeconds)}s`;
                    }
                }
            }, 500);
            
            try {
                const response = await fetch('/api/share', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ 
                        cookie, 
                        link, 
                        limit: isUnlimited ? 0 : limit, 
                        delay,
                        unlimited: isUnlimited
                    })
                });
                
                const data = await response.json();
                
                // Update stats
                if (data.status) {
                    totalShares = parseInt(totalShares) + parseInt(data.success_count);
                    successfulShares = parseInt(successfulShares) + parseInt(data.success_count);
                    
                    localStorage.setItem('totalShares', totalShares);
                    localStorage.setItem('successfulShares', successfulShares);
                    
                    document.getElementById('total-shares').textContent = totalShares;
                    
                    if (totalShares > 0) {
                        const successRate = Math.round((successfulShares / totalShares) * 100);
                        document.getElementById('success-rate').textContent = successRate + '%';
                    }
                }
                
                // Complete progress bar
                clearInterval(progressInterval);
                progressBar.style.width = '100%';
                sharingActive = false;
                stopButton.classList.add('hidden');
                
                // Hide loading indicator after delay
                setTimeout(() => {
                    document.getElementById('loading').style.display = 'none';
                    
                    // Show result
                    const resultDiv = document.getElementById('result');
                    const resultMsg = document.getElementById('result-message');
                    const resultDetails = document.getElementById('result-details');
                    const resultIcon = document.getElementById('result-icon');
                    const resultDelay = document.getElementById('result-delay');
                    const resultRate = document.getElementById('result-rate');
                    const modeText = document.getElementById('mode-text');
                    const modeIndicator = document.getElementById('mode-indicator');
                    
                    if (data.status) {
                        resultDiv.classList.remove('hidden', 'border-red-200', 'bg-red-50');
                        resultDiv.classList.add('border-green-200', 'bg-green-50');
                        resultMsg.textContent = data.message;
                        resultDelay.textContent = `${delay}ms`;
                        
                        if (isUnlimited) {
                            resultDetails.textContent = `Shared ${data.success_count.toLocaleString()} times continuously`;
                            modeText.textContent = 'Unlimited';
                            modeIndicator.classList.remove('hidden');
                        } else {
                            resultDetails.textContent = `Successfully shared ${data.success_count.toLocaleString()} out of ${parseInt(limit).toLocaleString()} times`;
                            const rate = limit > 0 ? Math.round((data.success_count / limit) * 100) : 0;
                            resultRate.textContent = `${rate}%`;
                            modeText.textContent = 'Limited';
                            modeIndicator.classList.remove('hidden');
                        }
                        
                        resultIcon.innerHTML = '<i class="fas fa-check-circle text-green-500"></i>';
                    } else {
                        resultDiv.classList.remove('hidden', 'border-green-200', 'bg-green-50');
                        resultDiv.classList.add('border-red-200', 'bg-red-50');
                        resultMsg.textContent = data.message;
                        resultDetails.textContent = 'Please check your cookie and try again';
                        resultDelay.textContent = `${delay}ms`;
                        resultRate.textContent = '0%';
                        modeText.textContent = isUnlimited ? 'Unlimited' : 'Limited';
                        modeIndicator.classList.remove('hidden');
                        resultIcon.innerHTML = '<i class="fas fa-times-circle text-red-500"></i>';
                    }
                    
                    // Reset progress bar
                    setTimeout(() => {
                        progressBar.style.width = '0%';
                        remainingElement.textContent = '';
                    }, 1000);
                }, 1000);
                
            } catch (error) {
                console.error('Error:', error);
                clearInterval(progressInterval);
                sharingActive = false;
                document.getElementById('loading').style.display = 'none';
                stopButton.classList.add('hidden');
                
                // Show error
                const resultDiv = document.getElementById('result');
                resultDiv.classList.remove('hidden', 'border-green-200', 'bg-green-50');
                resultDiv.classList.add('border-red-200', 'bg-red-50');
                document.getElementById('result-message').textContent = 'Network error. Please try again.';
                document.getElementById('result-details').textContent = error.message;
                document.getElementById('result-delay').textContent = `${delay}ms`;
                document.getElementById('result-rate').textContent = '0%';
                document.getElementById('mode-text').textContent = isUnlimited ? 'Unlimited' : 'Limited';
                document.getElementById('mode-indicator').classList.remove('hidden');
                document.getElementById('result-icon').innerHTML = '<i class="fas fa-times-circle text-red-500"></i>';
                
                // Reset progress bar
                progressBar.style.width = '0%';
                remainingElement.textContent = '';
            }
        });
        
        // Check URL hash on load
        window.addEventListener('load', function() {
            const hash = window.location.hash.substring(1);
            if (hash === 'share-tool') {
                navigateTo('share-content');
            } else if (hash === 'instructions') {
                navigateTo('instructions');
            } else if (hash === 'disclaimer') {
                navigateTo('disclaimer');
            } else if (hash === 'stats') {
                navigateTo('stats');
            } else if (hash === 'dashboard') {
                navigateTo('process-dashboard');
            }
            
            // Set default delay to 1ms
            delayInput.value = 1;
            delayRange.value = 1;
            delayValue.textContent = '1ms';
            defaultDelay.textContent = '1ms';
            
            // Calculate initial estimated time
            calculateEstimatedTime();
        });
        
        // Add animation on scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('fade-in');
                }
            });
        }, observerOptions);
        
        // Observe all sections for animation
        document.querySelectorAll('section, .grid > div').forEach((el) => {
            observer.observe(el);
        });
    </script>
</body>
</html>
